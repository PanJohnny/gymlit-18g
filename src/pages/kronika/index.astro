---
import Layout from "../../layouts/Layout.astro";
import top5 from "../../data/top5-phrases.json";
---

<Layout title="Kronika 8. G" description="Internetová verze kroniky maturantů 8. G 2026">
    <div class="body">
        <p>
            Vítejte na našich webových stránkách!
        </p>
        <div class="happy">
            <h2>Konec.</h2>
            <ul>
                <li>
                    <a href="/memories">
                        Projeďte si vše co tu je
                    </a>
                    <div class="arrow">
                        →
                    </div>
                </li>
                <li>
                    <a href="/kronika/summary/year/8">
                        Oktáva
                    </a>
                    <div class="arrow">
                        →
                    </div>
                </li>
            </ul>
        </div>
        <section>
            <h2>
                Top 5 hlášek podle naší třídy
            </h2>
            <ol>
                {top5.map((item, i) => (
                    <li>
                        {item.phrase} - <a href={"/kronika/summary/teacher/" + item.teacher} target="_blank"><strong>{item.teacher}</strong></a>
                    </li>
                ))}
            </ol>
        </section>
        <section>
            <h2 id="funkce">Funkce</h2>
            <p>Pomocí navigace (lupička) se můžete rychle pohybovat po stránce. Můžete se podívat na statistiky a to i ty o návštěvnosti. Červené vykřičníky u hlášek po kliknutí otevřou prostředek pro nahlašování chyb, nebo jen pro kontakt. Informace o poslední aktualizaci stránek naleznete, pod každou stránkou.</p>
        </section>
        <section>
            <h2>Preference</h2>
            <p>Aktivujte si tmavý režim, nebo vymažte vaše data.</p>
        </section>
        <section>
            <h2>Osobní údaje</h2>
            <p>Stránka neshromažďuje žádné osobní údaje, jen používá systém osobního identifikátoru, pro sledování unikátních návštěv.</p>
        </section>
        <a class="last-news loading" href="javascript:void(0)">
            Načítání...
        </a>
    </div>
</Layout>
    
<style>
    @media (max-width: 1024px) {
        .desktop {
            display: none;
        }
    }

    .news {
        color: green;
        font-weight: 900;
    }

    .happy {
        background-color: #f0f8ff;
        color: black;
        padding: 1rem;
        border-radius: 8px;
        margin-top: 1rem;
        border: 1px solid #ccc;
    }

    .happy ul {
        list-style-type: none;
        padding: 0;
    }

    .happy li {
        margin: 0.5rem 0;
        font-weight: bold;
        padding: 5px;
        border-radius: 8px;
        border: 1px solid #ccc;
        background-color: #ffeaef;
        display: flex;
        width: 100%;
        justify-content: space-between;
    }

    .happy li a {
        color: #007bff;
        text-decoration: none;
        flex: 1;
    }

    .happy li .arrow {
        color: #555;
        padding-right: 1px;
        transition: padding-right 0.3s ease;
    }

    .happy li:hover .arrow {
        padding-right: 0;
    }
</style>

<style is:inline>
    .loading {
        cursor: wait;
    }

    .last-news {
        color: inherit;
        text-decoration: none;
    }

    .rss {
        margin: 0;
        background-size: 1rem 1rem !important;
        user-select: none;
        background: url("https://upload.wikimedia.org/wikipedia/commons/thumb/d/dc/Rss_font_awesome.svg/768px-Rss_font_awesome.svg.png");
    }
</style>

<script is:inline>
    const msg = '<icon class="rss">&nbsp;&nbsp;&nbsp;&nbsp;</icon> Poslední zpráva ze školy: ';
    const ln = document.querySelector(".last-news");

    fetch("https://fastgymlit.vercel.app/api/feed").then(r => r.json()).catch(err => {
        ln.remove();
    }).then(json => {
        ln.innerHTML = msg + json[0].title;
        ln.classList.remove("loading");
        ln.setAttribute("href", json[0].link)
    }).catch(err => ln.remove());
</script>