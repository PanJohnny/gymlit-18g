---
import Layout from "../../layouts/Layout.astro";
---

<Layout title="Kronika 8. G" description="Internetová verze třídní kroniky">
    <div class="body">
        <p>
            Vítejte na našich webových stránkách!
        </p>
        <div class="happy">
            <h2>
                A sakra
            </h2>
            <p>
                Nový školní rok je tu a ještě k tomu oktáva 
            </p>
            <ul>
                <li>
                    <a href="/memories">
                        Projeďte si vše co tu je
                    </a>
                    <div class="arrow">
                        →
                    </div>
                </li>
                <li>
                    <a href="/kronika/summary/year/7">
                        Podívejte se co bylo v septimě
                    </a>
                    <div class="arrow">
                        →
                    </div>
                </li>
               <li>
                    <a href="/kronika/stats">
                        Iveta Rozumová je oficiálně nejvíc upovídaná!
                    </a>
                    <div class="arrow">
                        →
                    </div>
                </li>

            </ul>
        </div>
        <div>
            <h2>Open Data</h2>
            <p>Včechna data jsou otevřená a dá se je stáhnout ve formátech JSON či CSV. Pokud chcete vygenerovat PDF brožuru, doporučuji využít <a href="/memories">režim vzpomínek</a> a kliknout na tlačítko uprostřed nahoře.</p>
            <table>
                <thead>
                <tr>
                    <th>
                        Název
                    </th>
                    <th>
                        JSON
                    </th>
                    <th>
                        CSV
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Statistiky</td>
                    <td><a href="/api/analytics/all" download>JSON</a></td>
                    <td>x</td>
                </tr>
                <tr>
                    <td>Evidence učitelů</td>
                    <td><a href="/teachers.json" download>JSON</a></td>
                    <td>x</td>
                </tr>
                <tr>
                    <td>Všechny hlášky</td>
                    <td>x</td>
                    <td><a href="/kronika/summary/download/0" download>CSV</a></td>
                </tr>
                <tr>
                    <td>Všechny události</td>
                    <td colspan="2"><a href="/events/0" download>HTML</a></td>
                </tr>
                <tr>
                    <td>Hlášky jednoho ročníku</td>
                    <td colspan="2">na stránkách jednotlivých ročníků</td>
                </tr>
                <tr>
                    <td>Události jednoho ročníku</td>
                    <td colspan="2">jako HTML z adres /events/číslo kde číslo je 1 až 8</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div>
            <h2>Pomůcky</h2>
            <table>
                <thead>
                <tr>
                    <th>
                        Název
                    </th>
                    <th>
                        Popis
                    </th>
                    <th>
                        Odkaz
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Počitadlo dědičnosti</td>
                    <td>jednoduchá kalkulačka dědičných znaků</td>
                    <td><a href="/sharing/genom">/genom</a></td>
                </tr>
                <tr>
                    <td>Literární žánry</td>
                    <td>přehled literárních žánrů</td>
                    <td><a href="/sharing/zanry">/sharing/zanry</a></td>
                </tr>
                <tr>
                    <td>Poslechy ŠJ</td>
                    <td>urychleně vás odkáže na poslech z učebnice</td>
                    <td><a href="/sharing/iklett">/sharing/iklett</a></td>
                </tr>
                </tbody>
            </table>
        </div>
        <div>
            <h2 id="funkce">Funkce</h2>
            <p>Pomocí navigace (lupička) se můžete rychle pohybovat po stránce. Můžete se podívat na statistiky a to i ty o návštěvnosti. Červené vykřičníky u hlášek po kliknutí otevřou prostředek pro nahlašování chyb, nebo jen pro kontakt. Informace o poslední aktualizaci stránek naleznete, pod každou stránkou.</p>
        </div>
        <div>
            <h2>Preference</h2>
            <p>Aktivujte si tmavý režim, nebo vymažte vaše data.</p>
        </div>
        <div>
            <h2>Osobní údaje</h2>
            <p>Stránka neshromažďuje žádné osobní údaje, jen používá systém osobního identifikátoru, pro sledování unikátních návštěv.</p>
        </div>
        <a class="last-news loading" href="javascript:void(0)">
            Načítání...
        </a>
    </div>
</Layout>
    
<style>
    @media (max-width: 1024px) {
        .desktop {
            display: none;
        }
    }

    .news {
        color: green;
        font-weight: 900;
    }

    .happy {
        background-color: #f0f8ff;
        color: black;
        padding: 1rem;
        border-radius: 8px;
        margin-top: 1rem;
        border: 1px solid #ccc;
    }

    .happy ul {
        list-style-type: none;
        padding: 0;
    }

    .happy li {
        margin: 0.5rem 0;
        font-weight: bold;
        padding: 5px;
        border-radius: 8px;
        border: 1px solid #ccc;
        background-color: #ffeaef;
        display: flex;
        width: 100%;
        justify-content: space-between;
    }

    .happy li a {
        color: #007bff;
        text-decoration: none;
        flex: 1;
    }

    .happy li .arrow {
        color: #555;
        padding-right: 1px;
        transition: padding-right 0.3s ease;
    }

    .happy li:hover .arrow {
        padding-right: 0;
    }

    table {
        width: 100%;
        border: 1px solid #ccc;
    }

    thead {
        background-color: #ffeaef;
    }

    tbody {
        background-color: #f0f8ff;
    }

    td {
        text-align: center;
        padding: 6px;
    }

    td:nth-child(1) {
        background-color: #ffeaef;
        font-weight: bold;
        max-width: 70px;
    }
</style>

<style is:inline>
    .loading {
        cursor: wait;
    }

    .last-news {
        color: inherit;
        text-decoration: none;
    }

    .rss {
        margin: 0;
        background-size: 1rem 1rem !important;
        user-select: none;
        background: url("https://upload.wikimedia.org/wikipedia/commons/thumb/d/dc/Rss_font_awesome.svg/768px-Rss_font_awesome.svg.png");
    }
</style>

<script is:inline>
    const msg = '<icon class="rss">&nbsp;&nbsp;&nbsp;&nbsp;</icon> Poslední zpráva ze školy: ';
    const ln = document.querySelector(".last-news");

    fetch("https://fastgymlit.vercel.app/api/feed").then(r => r.json()).catch(err => {
        ln.remove();
    }).then(json => {
        ln.innerHTML = msg + json[0].title;
        ln.classList.remove("loading");
        ln.setAttribute("href", json[0].link)
    }).catch(err => ln.remove());
</script>